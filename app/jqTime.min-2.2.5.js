// Plugin jqTime. jqTime - this is a jQuery plugin that displays the time on the screen. The plugin contains many flexible settings.
// Aunthor: Nick Iv (Nim579). Sorced 29.04.2011
// Promo: http://dev.nim579.ru/jqTime/
// Documentation: http://dev.nim579.ru/jqTime/docs/
// Version: 2.2.5 (Wed Jul 03 2013 23:51:53)
(function(){$.jqTime={},$.fn.jqTime=function(mode,options,customTime){var seeta;options=$.extend({sepor:":",wrap:!1,format:!0,utc:"real",template:"hms",exp:null,timeFrom:"",timeTo:"",alt:null,inInterval:null,outInterval:null},options),customTime!=null?customTime instanceof window.Date&&customTime.getHours!=null?options.today=customTime:typeof customTime=="string"?options.today=new Date(customTime):options.today=new Date:options.today=new Date,options.i=3600*options.today.getHours()+60*options.today.getMinutes()+options.today.getSeconds(),options.utc!=="real"&&(options.i+=eval(options.today.getTimezoneOffset()*60+options.utc*3600)),seeta="ter",options.iFrom=$.jqTime.helper.stingToTime(options.timeFrom),options.iTo=$.jqTime.helper.stingToTime(options.timeTo);if($.jqTime.modes[mode]!=null)return this.each(function(e,t){var n,r=this;return n=$(this),mode==="clear"?$.jqTime.modes[mode](this):(this.jqTimeCurr=options.i,this.jqTimeToggle=null,this.oldHtml=$(this).html(),this.jqTimeTimer!=null&&clearInterval(this.jqTimeTimer),this.jqTimeTimer=setInterval(function(){return $.jqTime.modes[mode](r,options)},1e3))})}}).call(this),function(){$.jqTime==null&&($.jqTime={}),$.jqTime.modes==null&&($.jqTime.modes={}),$.jqTime.modes.clear=function(e){e.jqTimeTimer!=null&&(clearInterval(e.jqTimeTimer),delete e.jqTimeTimer),e.jqTimeCurr!=null&&delete e.jqTimeCurr,e.jqTimeToggle!=null&&delete e.jqTimeToggle;if(e.oldHtml!=null)return $(e).html(e.oldHtml),delete e.oldHtml}}.call(this),function(){$.jqTime==null&&($.jqTime={}),$.jqTime.modes==null&&($.jqTime.modes={}),$.jqTime.modes.current=function(e,t){var n,r,i,s,o,u;return r=e.jqTimeCurr,r++,r%=86400,u=r,u<0&&(u=86400+u),t.wrap&&(u=86400-u),n=Math.floor(u/3600),i=Math.floor((u-n*3600)/60),o=Math.floor(u-n*3600-i*60),t.format&&(n=$.jqTime.helper.formater(n),i=$.jqTime.helper.formater(i),o=$.jqTime.helper.formater(o)),t.exp!=null?s=$.jqTime.helper.expToTime(t.exp,n,i,o):s=$.jqTime.helper.returnString(t.template,t.sepor,n,i,o),$(e).text(s),e.jqTimeCurr=r,r=$.jqTime.helper.updater(r,t.utc)}}.call(this),function(){$.jqTime==null&&($.jqTime={}),$.jqTime.helper={returnString:function(e,t,n,r,i){var s,o,u,a,f;e==null&&(e="hms"),t==null&&(t=":"),n==null&&(n="H"),r==null&&(r="M"),i==null&&(i="S"),typeof e!="string"&&(e="hms"),typeof t!="string"&&typeof t!="number"&&(t=":"),u=[],e=e.toLowerCase(),e.indexOf("h")>=0&&(u[e.indexOf("h")]=n),e.indexOf("m")>=0&&(u[e.indexOf("m")]=r),e.indexOf("s")>=0&&(u[e.indexOf("s")]=i),o=[];for(a=0,f=u.length;a<f;a++)s=u[a],(!!s||s===0)&&o.push(s);return o.join(t)},formater:function(e){return e!=null?(String(e).length>0&&Number(e<=9)&&(e="0"+Number(e)),String(e)):null},updater:function(e,t){var n;return e%300===0&&(n=new Date,e=3600*n.getHours()+60*n.getMinutes()+n.getSeconds(),t!=="real"&&(e+=n.getTimezoneOffset()*60+t*3600)),e},stingToTime:function(e){var t,n,r,i,s,o;if(e!=null){r=0;if(!e)return 0;if(typeof e=="number")return e;t=e.split(":"),t=t.slice(0,3),r=0;for(i=s=0,o=t.length;s<o;i=++s){n=t[i];if(Number(n===NaN))return NaN;r+=Math.floor(Number(n))*Math.pow(60,2-i)}return r}return null},expToTime:function(e,t,n,r){if(e&&typeof e=="string"){if(t!=null&&typeof t=="string"||typeof t=="number")e=e.replace(/([h]+)/g,t),e=e.replace(/([H]+)/g,this.formater(t));if(n!=null&&typeof n=="string"||typeof n=="number")e=e.replace(/([m]+)/g,n),e=e.replace(/([M]+)/g,this.formater(n));if(r!=null&&typeof r=="string"||typeof r=="number")e=e.replace(/([s]+)/g,r),e=e.replace(/([S]+)/g,this.formater(r));return e}return null}}}.call(this),function(){$.jqTime==null&&($.jqTime={}),$.jqTime.modes==null&&($.jqTime.modes={}),$.jqTime.modes.interval=function(e,t){var n,r,i,s,o,u;return i=e.jqTimeCurr,i++,i%=86400,t.wrap?t.iFrom<=t.iTo?i>=t.iFrom&&i<=t.iTo?n=t.iTo-i:n=!1:i>=t.iFrom&&i<=86400||i>=0&&i<=t.iTo?n=(86400+t.iTo-i)%86400:n=!1:t.iFrom>=t.iTo?i>=t.iFrom&&i<=86400||i<=t.iTo&&i>=0?n=i:n=!1:i>=t.iFrom&&i<=t.iTo?n=i:n=!1,n!==!1?(r=Math.floor(n/3600),s=Math.floor((n-r*3600)/60),u=Math.floor(n-r*3600-s*60),t.format&&(r=$.jqTime.helper.formater(r),s=$.jqTime.helper.formater(s),u=$.jqTime.helper.formater(u)),t.exp!=null?o=$.jqTime.helper.expToTime(t.exp,r,s,u):o=$.jqTime.helper.returnString(t.template,t.sepor,r,s,u),$(e).text(o)):t.alt!=null?$(e).html(t.alt):$(e).html(e.oldHtml),e.jqTimeCurr=i,i=$.jqTime.helper.updater(i,t.utc)}}.call(this),function(){$.jqTime==null&&($.jqTime={}),$.jqTime.modes==null&&($.jqTime.modes={}),$.jqTime.modes.toggler=function(e,t){var n,r;return n=e.jqTimeCurr,n++,t.iFrom<=t.iTo?r=n>=t.iFrom&&n<t.iTo:r=n>=t.iFrom&&n<=86400||n>=0&&n<t.iTo,r!==e.jqTimeToggle&&(r?($(e).trigger("inInterval.jqTime"),t.inInterval!=null?(typeof t.inInterval=="Function"&&t.inInterval(),$(e).html(t.inInterval)):$(e).html(e.oldHtml).show()):($(e).trigger("outInterval.jqTime"),t.inInterval!=null?typeof t.outInterval=="Function"?t.outInterval():$(e).html(t.outInterval):$(e).hide()),e.jqTimeToggle=r),e.jqTimeCurr=n,n=$.jqTime.helper.updater(n,t.utc)}}.call(this);