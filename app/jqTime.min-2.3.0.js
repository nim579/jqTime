(function(){$.jqTime={},$.fn.jqTime=function(a,b,c){var d;return b=$.extend({wrap:!1,hour12:!1,utc:"real",exp:"HH:MM:SS d",timeFrom:"",timeTo:"",alt:null,inInterval:null,outInterval:null,pm:"p.m.",am:"a.m."},b),d=this,b.today=new Date,b.i=3600*b.today.getHours()+60*b.today.getMinutes()+b.today.getSeconds(),"real"!==b.utc&&(b.i+=60*b.today.getTimezoneOffset()+3600*b.utc),b.iFrom=$.jqTime.helper.stingToTime(b.timeFrom),b.iTo=$.jqTime.helper.stingToTime(b.timeTo),null!=$.jqTime.modes[a]?this.each(function(){var e,f=this;return e=$(this),"clear"===a?$.jqTime.modes[a].call(d,this):(this.jqTimeCurr=b.i,this.jqTimeToggle=null,this.oldHtml=$(this).html(),null!=this.jqTimeTimer&&clearInterval(this.jqTimeTimer),this.jqTimeTimer=setInterval(function(){var e;return e=$.jqTime.modes[a].call(d,f,b),null!=c&&"function"==typeof c?c(e):void 0},1e3))}):void 0}}).call(this),function(){null==$.jqTime&&($.jqTime={}),null==$.jqTime.modes&&($.jqTime.modes={}),$.jqTime.modes.clear=function(a){return null!=a.jqTimeTimer&&(clearInterval(a.jqTimeTimer),delete a.jqTimeTimer),null!=a.jqTimeCurr&&delete a.jqTimeCurr,null!=a.jqTimeToggle&&delete a.jqTimeToggle,null!=a.oldHtml?($(a).html(a.oldHtml),delete a.oldHtml):void 0}}.call(this),function(){null==$.jqTime&&($.jqTime={}),null==$.jqTime.modes&&($.jqTime.modes={}),$.jqTime.modes.current=function(a,b){var c,d,e,f;return e={hours:0,minutes:0,seconds:0,utc:b.utc,formated:""},c=a.jqTimeCurr,c++,c%=86400,f=c,0>f&&(f=86400+f),b.wrap&&(f=86400-f),e.hours=Math.floor(f/3600),e.minutes=Math.floor((f-3600*e.hours)/60),e.seconds=Math.floor(f-3600*e.hours-60*e.minutes),b.hour12&&(d=Math.floor(e.hours/13),e.hours-=12*d,e.midday=d?"pm":"am"),e.formated=$.jqTime.helper.expToTime(b.exp,e.hours,e.minutes,e.seconds,null!=e.midday?{now:e.midday,pm:b.pm,am:b.am}:void 0),$(a).html(e.formated),a.jqTimeCurr=c,c=$.jqTime.helper.updater(c,b.utc),e}}.call(this),function(){null==$.jqTime&&($.jqTime={}),$.jqTime.helper={returnString:function(a,b,c,d,e){var f,g,h,i,j;for(null==a&&(a="hms"),null==b&&(b=":"),null==c&&(c="H"),null==d&&(d="M"),null==e&&(e="S"),"string"!=typeof a&&(a="hms"),"string"!=typeof b&&"number"!=typeof b&&(b=":"),h=[],a=a.toLowerCase(),a.indexOf("h")>=0&&(h[a.indexOf("h")]=c),a.indexOf("m")>=0&&(h[a.indexOf("m")]=d),a.indexOf("s")>=0&&(h[a.indexOf("s")]=e),g=[],i=0,j=h.length;j>i;i++)f=h[i],(f||0===f)&&g.push(f);return g.join(b)},formater:function(a){return null!=a?(String(a).length>0&&Number(9>=a)&&(a="0"+Number(a)),String(a)):null},updater:function(a,b){var c;return a%300===0&&(c=new Date,a=3600*c.getHours()+60*c.getMinutes()+c.getSeconds(),"real"!==b&&(a+=60*c.getTimezoneOffset()+3600*b)),a},stingToTime:function(a){var b,c,d,e,f,g;if(null!=a){if(d=0,!a)return 0;if("number"==typeof a)return a;for(b=a.split(":"),b=b.slice(0,3),d=0,e=f=0,g=b.length;g>f;e=++f){if(c=b[e],Number(0/0===c))return 0/0;d+=Math.floor(Number(c))*Math.pow(60,2-e)}return d}return null},expToTime:function(a,b,c,d,e){return a&&"string"==typeof a?((null!=b&&"string"==typeof b||"number"==typeof b)&&(a=a.replace(/([h]+)/g,b),a=a.replace(/([H]+)/g,this.formater(b))),(null!=c&&"string"==typeof c||"number"==typeof c)&&(a=a.replace(/([m]+)/g,c),a=a.replace(/([M]+)/g,this.formater(c))),(null!=d&&"string"==typeof d||"number"==typeof d)&&(a=a.replace(/([s]+)/g,d),a=a.replace(/([S]+)/g,this.formater(d))),null==e||"am"!==e.now&&"pm"!==e.now?(a=a.replace(/([d]+)/g,""),a=a.replace(/([D]+)/g,"")):(a=a.replace(/([d]+)/g,e[e.now]),a=a.replace(/([D]+)/g,e[e.now])),a):null},filter:function(a,b,c){var d;return d=[],null==a?d:Array.prototype.filter&&a.filter===Array.prototype.filter?a.filter(b,c):(each(a,function(a,e,f){return b.call(c,a,e,f)?d[d.length]=a:void 0}),d)}}}.call(this),function(){null==$.jqTime&&($.jqTime={}),null==$.jqTime.modes&&($.jqTime.modes={}),$.jqTime.modes.interval=function(a,b){var c,d,e,f;return f={utc:b.utc,formated:"",inInterval:!1},d=a.jqTimeCurr,d++,d%=86400,c=!1,b.wrap?b.iFrom<=b.iTo?d>=b.iFrom&&d<=b.iTo&&(c=b.iTo-d):(d>=b.iFrom&&86400>=d||d>=0&&d<=b.iTo)&&(c=(86400+b.iTo-d)%86400):b.iFrom>=b.iTo?(d>=b.iFrom&&86400>=d||d<=b.iTo&&d>=0)&&(c=d):d>=b.iFrom&&d<=b.iTo&&(c=d),c!==!1?(f.inInterval=!0,f.hours=Math.floor(c/3600),f.minutes=Math.floor((c-3600*f.hours)/60),f.seconds=Math.floor(c-3600*f.hours-60*f.minutes),b.hour12&&(e=Math.floor(f.hours/13),f.hours-=12*e,f.midday=e?"pm":"am"),f.formated=$.jqTime.helper.expToTime(b.exp,f.hours,f.minutes,f.seconds,null!=f.midday?{now:f.midday,pm:b.pm,am:b.am}:void 0),$(a).html(f.formated)):null!=b.alt?($(a).html(b.alt),f.formated=b.alt):($(a).html(a.oldHtml),f.formated=a.oldHtml),a.jqTimeCurr=d,d=$.jqTime.helper.updater(d,b.utc),f}}.call(this),function(){null==$.jqTime&&($.jqTime={}),null==$.jqTime.modes&&($.jqTime.modes={}),$.jqTime.modes.toggler=function(a,b){var c,d;return d={utc:b.utc,formated:null,inInterval:!1},c=a.jqTimeCurr,c++,d.inInterval=b.iFrom<=b.iTo?!!(c>=b.iFrom&&c<b.iTo):!!(c>=b.iFrom&&86400>=c||c>=0&&c<b.iTo),d.inInterval!==a.jqTimeToggle&&(d.inInterval?($(a).trigger("inInterval.jqTime"),null!=b.inInterval?"function"==typeof b.inInterval?(d.formated="",b.inInterval()):(d.formated=b.inInterval,$(a).html(b.inInterval)):(d.formated="",$(a).html(a.oldHtml).show())):($(a).trigger("outInterval.jqTime"),null!=b.inInterval?"function"==typeof b.outInterval?(d.formated=null,b.outInterval()):(d.formated=b.outInterval,$(a).html(b.outInterval)):(d.formated=null,$(a).hide())),a.jqTimeToggle=d.inInterval),a.jqTimeCurr=c,c=$.jqTime.helper.updater(c,b.utc),d}}.call(this);